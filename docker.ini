[reinfra]
build_all = True

    [[build_command]]
        cmd1 = "docker build -t re-centos6:${IMAGE_TAG_VERSION} -f centos6/Dockerfile .", centos6
        cmd2 = "docker build -t re-centos6:${IMAGE_TAG_VERSION}-min -f centos6/Dockerfile_min .", centos6

        cmd3 = "docker build -t re-centos7:${IMAGE_TAG_VERSION} -f centos7/Dockerfile .", centos7
        cmd4 = "docker build -t re-centos7:${IMAGE_TAG_VERSION}-min -f centos7/Dockerfile_min .", centos7

        cmd5 = "docker build -t re-debian7:${IMAGE_TAG_VERSION} -f debian7/Dockerfile .", debian7
        cmd6 = "docker build -t re-debian7:${IMAGE_TAG_VERSION}-min -f debian7/Dockerfile_min .", debian7

        cmd7 = "docker build -t re-suse11sp3:${IMAGE_TAG_VERSION} -f suse11sp3/Dockerfile .", suse11sp3
        cmd8 = "docker build -t re-suse11sp3:${IMAGE_TAG_VERSION}-min -f suse11sp3/Dockerfile_min .", suse11sp3

        cmd9 = "docker build -t re-sles12:${IMAGE_TAG_VERSION} -f sles12/Dockerfile .", sles12
        cmd10 = "docker build -t re-sles12:${IMAGE_TAG_VERSION}-min -f sles12/Dockerfile_min .", sles12

        cmd11 = "docker build -t re-ubuntu16:${IMAGE_TAG_VERSION} -f ubuntu16/Dockerfile .", ubuntu16
        cmd12 = "docker build -t re-ubuntu16:${IMAGE_TAG_VERSION}-min -f ubuntu16/Dockerfile_min .", ubuntu16

        cmd13 = "docker build -t re-ubuntu12:${IMAGE_TAG_VERSION} -f ubuntu12/Dockerfile .", ubuntu12
        cmd14 = "docker build -t re-ubuntu12:${IMAGE_TAG_VERSION}-min -f ubuntu12/Dockerfile_min .", ubuntu12

        cmd15 = "docker build -t re-ubuntu14:${IMAGE_TAG_VERSION} -f ubuntu14/Dockerfile .", ubuntu14
        cmd16 = "docker build -t re-ubuntu14:${IMAGE_TAG_VERSION}-min -f ubuntu14/Dockerfile_min .", ubuntu14

        cmd17 = "docker build -t re-debian9:${IMAGE_TAG_VERSION} -f debian9/Dockerfile .", debian9
        cmd18 = "docker build -t re-debian9:${IMAGE_TAG_VERSION}-min -f debian9/Dockerfile_min .", debian9

        cmd19 = "docker build -t re-amazonlinux2:${IMAGE_TAG_VERSION} -f amazonlinux2/Dockerfile .", amazonlinux2
        cmd20 = "docker build -t re-amazonlinux2:${IMAGE_TAG_VERSION}-min -f amazonlinux2/Dockerfile_min .", amazonlinux2

        cmd21 = "docker build -t re-ubuntu18:${IMAGE_TAG_VERSION} -f ubuntu18/Dockerfile .", ubuntu18
        cmd22 = "docker build -t re-ubuntu18:${IMAGE_TAG_VERSION}-min -f ubuntu18/Dockerfile_min .", ubuntu18


    [[publish_command]]
        cmd1 = "docker tag re-centos6:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-centos6:${IMAGE_TAG_VERSION}", centos6
        cmd2 = "docker push registry.eng.hortonworks.com/releng/re-centos6:${IMAGE_TAG_VERSION}", centos6

        cmd3 = "docker tag re-centos7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-centos7:${IMAGE_TAG_VERSION}", centos7
        cmd4 = "docker push registry.eng.hortonworks.com/releng/re-centos7:${IMAGE_TAG_VERSION}", centos7

        cmd5 = "docker tag re-debian7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-debian7:${IMAGE_TAG_VERSION}", debian7
        cmd6 = "docker push registry.eng.hortonworks.com/releng/re-debian7:${IMAGE_TAG_VERSION}", debian7

        cmd7 = "docker tag re-suse11sp3:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-suse11sp3:${IMAGE_TAG_VERSION}", suse11sp3
        cmd8 = "docker push registry.eng.hortonworks.com/releng/re-suse11sp3:${IMAGE_TAG_VERSION}", suse11sp3

        cmd9 = "docker tag re-sles12:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-sles12:${IMAGE_TAG_VERSION}", sles12
        cmd10 = "docker push registry.eng.hortonworks.com/releng/re-sles12:${IMAGE_TAG_VERSION}", sles12

        cmd11 = "docker tag re-ubuntu16:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-ubuntu16:${IMAGE_TAG_VERSION}", ubuntu16
        cmd12 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu16:${IMAGE_TAG_VERSION}", ubuntu16

        cmd13 = "docker tag re-ubuntu12:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-ubuntu12:${IMAGE_TAG_VERSION}", ubuntu12
        cmd14 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu12:${IMAGE_TAG_VERSION}", ubuntu12

        cmd15 = "docker tag re-ubuntu14:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-ubuntu14:${IMAGE_TAG_VERSION}", ubuntu14
        cmd16 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu14:${IMAGE_TAG_VERSION}", ubuntu14

        cmd17 = "docker tag re-debian9:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-debian9:${IMAGE_TAG_VERSION}", debian9
        cmd18 = "docker push registry.eng.hortonworks.com/releng/re-debian9:${IMAGE_TAG_VERSION}", debian9

        cmd19 = "docker tag re-amazonlinux2:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-amazonlinux2:${IMAGE_TAG_VERSION}", amazonlinux2
        cmd20 = "docker push registry.eng.hortonworks.com/releng/re-amazonlinux2:${IMAGE_TAG_VERSION}", amazonlinux2

        cmd21 = "docker tag re-ubuntu18:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-ubuntu18:${IMAGE_TAG_VERSION}", ubuntu18
        cmd22 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu18:${IMAGE_TAG_VERSION}", ubuntu18
        
        cmd23 = "docker tag re-centos6:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-centos6:${IMAGE_TAG_VERSION}-min", centos6
        cmd24 = "docker push registry.eng.hortonworks.com/releng/re-centos6:${IMAGE_TAG_VERSION}-min", centos6
         
        cmd25 = "docker tag re-centos7:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-centos7:${IMAGE_TAG_VERSION}-min", centos7
        cmd26 = "docker push registry.eng.hortonworks.com/releng/re-centos7:${IMAGE_TAG_VERSION}-min", centos7
         
        cmd27 = "docker tag re-debian7:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-debian7:${IMAGE_TAG_VERSION}-min", debian7
        cmd28 = "docker push registry.eng.hortonworks.com/releng/re-debian7:${IMAGE_TAG_VERSION}-min", debian7
         
        cmd29 = "docker tag re-suse11sp3:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-suse11sp3:${IMAGE_TAG_VERSION}-min", suse11sp3
        cmd30 = "docker push registry.eng.hortonworks.com/releng/re-suse11sp3:${IMAGE_TAG_VERSION}-min", suse11sp3
         
        cmd31 = "docker tag re-sles12:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-sles12:${IMAGE_TAG_VERSION}-min", sles12
        cmd32 = "docker push registry.eng.hortonworks.com/releng/re-sles12:${IMAGE_TAG_VERSION}-min", sles12
         
        cmd33 = "docker tag re-ubuntu16:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-ubuntu16:${IMAGE_TAG_VERSION}-min", ubuntu16
        cmd34 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu16:${IMAGE_TAG_VERSION}-min", ubuntu16
         
        cmd35 = "docker tag re-ubuntu12:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-ubuntu12:${IMAGE_TAG_VERSION}-min", ubuntu12
        cmd36 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu12:${IMAGE_TAG_VERSION}-min", ubuntu12
         
        cmd37 = "docker tag re-ubuntu14:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-ubuntu14:${IMAGE_TAG_VERSION}-min", ubuntu14
        cmd38 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu14:${IMAGE_TAG_VERSION}-min", ubuntu14
         
        cmd39 = "docker tag re-debian9:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-debian9:${IMAGE_TAG_VERSION}-min", debian9
        cmd40 = "docker push registry.eng.hortonworks.com/releng/re-debian9:${IMAGE_TAG_VERSION}-min", debian9
         
        cmd41 = "docker tag re-amazonlinux2:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-amazonlinux2:${IMAGE_TAG_VERSION}-min", amazonlinux2
        cmd42 = "docker push registry.eng.hortonworks.com/releng/re-amazonlinux2:${IMAGE_TAG_VERSION}-min", amazonlinux2
         
        cmd43 = "docker tag re-ubuntu18:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-ubuntu18:${IMAGE_TAG_VERSION}-min", ubuntu18
        cmd44 = "docker push registry.eng.hortonworks.com/releng/re-ubuntu18:${IMAGE_TAG_VERSION}-min", ubuntu18




    [[text-replace]]
        REPLACE_1 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace
        REPLACE_2 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos7/Dockerfile, regex_replace
        REPLACE_3 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, debian7/Dockerfile, regex_replace
        REPLACE_4 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, suse11sp3/Dockerfile, regex_replace
        REPLACE_5 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, sles12/Dockerfile, regex_replace
        REPLACE_6 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu16/Dockerfile, regex_replace
        REPLACE_7 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu12/Dockerfile, regex_replace
        REPLACE_8 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu14/Dockerfile, regex_replace
        REPLACE_9 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, debian9/Dockerfile, regex_replace
        REPLACE_10 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, amazonlinux2/Dockerfile, regex_replace
        REPLACE_11 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu18/Dockerfile, regex_replace
        REPLACE_12 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile_min, regex_replace
        REPLACE_13 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos7/Dockerfile_min, regex_replace
        REPLACE_14 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, debian7/Dockerfile_min, regex_replace
        REPLACE_15 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, suse11sp3/Dockerfile_min, regex_replace
        REPLACE_16 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, sles12/Dockerfile_min, regex_replace
        REPLACE_17 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu16/Dockerfile_min, regex_replace
        REPLACE_18 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu12/Dockerfile_min, regex_replace
        REPLACE_19 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu14/Dockerfile_min, regex_replace
        REPLACE_20 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, debian9/Dockerfile_min, regex_replace
        REPLACE_21 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, amazonlinux2/Dockerfile_min, regex_replace
        REPLACE_22 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, ubuntu18/Dockerfile_min, regex_replace



[reinfranobody]
build_all = True

    [[build_command]]
        cmd1 = "docker build -t re-nobody-centos6:${IMAGE_TAG_VERSION} -f centos6/Dockerfile .", centos6
        cmd2 = "docker build -t re-nobody-centos6:${IMAGE_TAG_VERSION}-min -f centos6/Dockerfile_min .", centos6
        cmd3 = "docker build -t re-nobody-centos7:${IMAGE_TAG_VERSION} -f centos7/Dockerfile .", centos7
        cmd4 = "docker build -t re-nobody-centos7:${IMAGE_TAG_VERSION}-min -f centos7/Dockerfile_min .", centos7

    [[publish_command]]
        cmd1 = "docker tag re-nobody-centos6:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}", centos6
        cmd2 = "docker push registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}", centos6
        cmd3 = "docker rmi -f re-nobody-centos6:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}", centos6

        cmd4 = "docker tag re-nobody-centos7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}", centos7
        cmd5 = "docker push registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}", centos7
        cmd6 = "docker rmi -f re-nobody-centos7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}", centos7
        
        cmd7 = "docker tag re-nobody-centos6:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}-min", centos6
        cmd8 = "docker push registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}-min", centos6
        cmd9 = "docker rmi -f re-nobody-centos6:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-nobody-centos6:${IMAGE_TAG_VERSION}-min", centos6
        
        cmd10 = "docker tag re-nobody-centos7:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}-min", centos7
        cmd11 = "docker push registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}-min", centos7
        cmd12 = "docker rmi -f re-nobody-centos7:${IMAGE_TAG_VERSION}-min registry.eng.hortonworks.com/releng/re-nobody-centos7:${IMAGE_TAG_VERSION}min", centos7

    [[text-replace]]
        REPLACE_1 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace
        REPLACE_2 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos7/Dockerfile, regex_replace
        REPLACE_3 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile_min, regex_replace
        REPLACE_4 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos7/Dockerfile_min, regex_replace
